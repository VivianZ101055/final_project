---
title: "final_project"
author: "Vivian Zhang"
date: "2/27/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(readxl)
library(janitor)
library(tidyverse)
library(rvest)
library(magrittr)

```

```{r scraping data}

eu_members <- read_html('https://en.wikipedia.org/wiki/Member_state_of_the_European_Union', skip = 0)

eumemberinfo <- eu_members %>%
  html_nodes(xpath='//*[@id="mw-content-text"]/div/table[5]') %>%
  html_table()

eumemberinfo <- eumemberinfo[[1]]

```

```{r dataset, include=FALSE}

percent_gdp <- read_excel("data/remittance_percentgdp.xls", skip = 3) %>%
  clean_names()

eu_percent_gdp <- eumemberinfo %>%
  left_join(percent_gdp, by = c("Name", country_name))

percent_gdp <- percent_gdp %>%
  pivot_longer(
    cols = starts_with("x"),
    names_to = "year",
    names_prefix = "yr"
               )

usd <- read_excel("data/remittances_usd.xls", skip = 3) %>%
  clean_names()

full_world_data <- percent_gdp %>%
  inner_join(usd, by = "country_name")

full_world_data
```

```{r}

```

